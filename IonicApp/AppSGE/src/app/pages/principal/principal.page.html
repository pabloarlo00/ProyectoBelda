<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <div
      class="position-absolute start-0 top-0 w-100 h-100 d-flex justify-content-center align-items-center"
    >
      <ion-avatar class="shadow-sm">
        <ion-img src="assets/icon/favicon.png" alt="Logo"></ion-img>
      </ion-avatar>
    </div>

    <ion-buttons slot="end">
      <ion-menu-button menu="primerMenu"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  @for (item of notices; track item._id) {
  <ion-card
    [routerLink]="['/detalle', item._id]"
    class="mb-4 shadow-sm border-0"
  >
    @if (item.imagenes && item.imagenes.length > 0) {
    <swiper-container pagination="true" class="bg-dark">
      @for (foto of item.imagenes; track $index) {
      <swiper-slide class="slide-full">
        <ion-img
          [src]="foto"
          [alt]="item.titulo"
          class="vw-100 object-fit-cover"
          style="height: 250px"
        >
        </ion-img>
      </swiper-slide>
      }
    </swiper-container>
    }

    <ion-card-header>
      <ion-grid class="p-0">
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-badge color="secondary">{{ item.seccion }}</ion-badge>
          </ion-col>
          <ion-col class="ion-text-end">
            <ion-note class="small"
              >{{ item.fecha | date:'dd/MM/yyyy' }}</ion-note
            >
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-card-title class="fw-bold">{{ item.titulo }}</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <div class="mt-3 pt-2 border-top">
        <ion-text color="medium">
          Por: <strong class="text-dark">{{ item.autor }}</strong>
        </ion-text>
      </div>
    </ion-card-content>
  </ion-card>
  }

  <ion-infinite-scroll (ionInfinite)="loadMore($event)">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Cargando mÃ¡s noticias..."
    >
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
